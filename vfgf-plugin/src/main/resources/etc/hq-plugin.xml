<?xml version="1.0"?>

<!DOCTYPE plugin [
  <!ENTITY distributionstats SYSTEM "/etc/distributionstats.xml">
  <!ENTITY cacheperfstats SYSTEM "/etc/cacheperfstats.xml">
  <!ENTITY statsampler SYSTEM "/etc/statsampler.xml">
  <!ENTITY gatewaystatistics SYSTEM "/etc/gatewaystatistics.xml">
  <!ENTITY gatewayhubstatistics SYSTEM "/etc/gatewayhubstatistics.xml">
  <!ENTITY cacheserverstats SYSTEM "/etc/cacheserverstats.xml">
  <!ENTITY dlockstats SYSTEM "/etc/dlockstats.xml">
  <!ENTITY resourcemanagerstats SYSTEM "/etc/resourcemanagerstats.xml">
  <!ENTITY vmstats SYSTEM "/etc/vmstats.xml">
  <!ENTITY functionstatistics SYSTEM "/etc/functionstatistics.xml">
  <!ENTITY functionservicestatistics SYSTEM "/etc/functionservicestatistics.xml">
  <!ENTITY cacheclientnotifierstats SYSTEM "/etc/cacheclientnotifierstats.xml">
  <!ENTITY diskstorestatistics SYSTEM "/etc/diskstorestatistics.xml">
  <!ENTITY diskdirstatistics SYSTEM "/etc/diskdirstatistics.xml">
  <!ENTITY diskregionstatistics SYSTEM "/etc/diskregionstatistics.xml">
  <!ENTITY partitionedregionstats SYSTEM "/etc/partitionedregionstats.xml">
  <!ENTITY poolstats SYSTEM "/etc/poolstats.xml">
]>

<plugin name="vfgf"
	class="com.vmware.vfabric.hyperic.plugin.vfgf.GFProductPlugin">
	<property name="PLUGIN_VERSION" value="@project.version@" />

	<classpath>
		<include name="pdk/lib/mx4j" />
	</classpath>

	<property name="JMXCFG"
		value="jmx.url=%jmx.url%,jmx.username=%jmx.username%,jmx.password=%jmx.password%" />

	<property name="MEMBERCFG"
		value="host=%host%,name=%name%,workingDirectory=%workingDirectory%" />

	<property name="GFJVMCFG"
		value="vmstats=%vmstats%,vmheapmemorystats=%vmheapmemorystats%,vmnonheapmemorystats=%vmnonheapmemorystats%,youngeden=%youngeden%,youngsurvivor=%youngsurvivor%,oldtenured=%oldtenured%,oldpermanent=%oldpermanent%,codecache=%codecache%,gccheap=%gccheap%,gcexpensive=%gcexpensive%" />

	<filter name="template"
		value="GemFire:${JMXCFG},${MEMBERCFG},statname=%statname%,${GFJVMCFG}:${alias}" />

	<config name="jmx">
		<option name="jmx.url" description="URL to GemFire JMX Agent"
			default="service:jmx:rmi:///jndi/rmi://localhost:1099/jmxconnector" />
		<option name="jmx.username" description="JMX username"
			optional="true" default="" />
		<option name="jmx.password" description="JMX password"
			optional="true" default="" />
	</config>

	<config name="gfjvm">
		<option name="vmstats" description="Name of VM stats" />
		<option name="vmheapmemorystats" description="Name of heap memory" />
		<option name="vmnonheapmemorystats" description="Name of non heap memory stats" />
		<option name="youngeden" description="Name of young eden memory pool." />
		<option name="youngsurvivor" description="Name of young survivor memory pool." />
		<option name="oldtenured" description="Name of old tenured memory pool." />
		<option name="oldpermanent" description="Name of old permanent memory pool." />
		<option name="codecache" description="Name of code cache memory pool." />
		<option name="gccheap" description="Name of cheap GC." />
		<option name="gcexpensive" description="Name of expensive GC." />
	</config>

	<metrics name="DistributionStats">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &distributionstats;
	</metrics>

	<metrics name="CachePerfStats">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &cacheperfstats;
	</metrics>

	<metrics name="StatSampler">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &statsampler;
	</metrics>

	<metrics name="GatewayHubStatistics">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &gatewayhubstatistics;
	</metrics>

	<metrics name="GatewayStatistics">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &gatewaystatistics;
	</metrics>

	<metrics name="CacheServerStats">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &cacheserverstats;
	</metrics>

	<metrics name="DistributedLock">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &dlockstats;
	</metrics>

	<metrics name="ResourceManager">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &resourcemanagerstats;
	</metrics>

	<metrics name="VMStats">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &vmstats;
	</metrics>

	<metrics name="Function">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &functionstatistics;
	</metrics>

	<metrics name="FunctionService">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &functionservicestatistics;
	</metrics>

	<metrics name="CacheClientNotifier">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &cacheclientnotifierstats;
	</metrics>

	<metrics name="DiskStore">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &diskstorestatistics;
	</metrics>

	<metrics name="DiskDirectory">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &diskdirstatistics;
	</metrics>

	<metrics name="DiskRegion">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &diskregionstatistics;
	</metrics>

	<metrics name="PartitionedRegion">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &partitionedregionstats;
	</metrics>

	<metrics name="PoolStats">
		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" />
        &poolstats;
	</metrics>


	<platform name="vFabric GemFire Distributed System 6.x">

		<plugin type="autoinventory"
			class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.GemFirePlatformDetector" />
		<plugin type="measurement"
			class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFDistMeasurementPlugin" />
		<plugin type="log_track"
			class="com.vmware.vfabric.hyperic.plugin.vfgf.log.GFNotificationTrack" />

		<config include="jmx">
			<option name="jmx.url" description="JMX URL to MBeanServer"
				default="service:jmx:rmi:///jndi/rmi://localhost:1099/jmxconnector" />
			<option name="force.error" optional="true"
				description="Regex to force error level" />
			<option name="force.warn" optional="true" description="Regex to force warn level" />
			<option name="force.info" optional="true" description="Regex to force info level" />
		</config>

		<metric name="Availability" indicator="true" defaultOn="true"
			interval="300000" template="GemFire:${JMXCFG}:${alias}" />



		<!--********************************* ** CACHE SERVER ********************************* -->

		<server name="vFabric GemFire Cache Server" version="6.0">
 			<config>
				<option name="host"
					description="The host machine on which the cache vm is running" />
				<option name="name"
					description="A symbolic name that can be used to help identify a system" />
				<option name="workingDirectory"
					description="The directory in which the cache vm was launched." />
			</config>

			<plugin type="autoinventory"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.CacheServerDetector" />
			<plugin type="measurement"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFCacheServerMeasurementPlugin" />

			<properties>
				<property name="version" description="Version" />
				<property name="build" description="Build" />
			</properties>

			<metric name="Availability" indicator="true" defaultOn="true"
				template="GemFireCacheServer:${JMXCFG},${MEMBERCFG}:${alias}" />

			<service name="Distribution Statistics">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="DistributionStats" />
			</service>

			<service name="Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CachePerfStats" />
			</service>

			<service name="Cache Performance">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CachePerfStats" />
			</service>

			<service name="Partitioned Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="PartitionedRegion" />
			</service>

			<service name="Statistics Sampler">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="StatSampler" />
			</service>

			<service name="Cache Server">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CacheServerStats" />
			</service>

			<service name="Distributed Lock">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="DistributedLock" />
			</service>

			<service name="Resource Manager">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="ResourceManager" />
			</service>

			<service name="VM Stats">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFVMStatsMeasurementPlugin" />
				<metrics include="VMStats" />
				<config include="gfjvm" />
			</service>

			<service name="Function">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="Function" />
			</service>

			<service name="Function Service">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="FunctionService" />
			</service>

			<service name="Cache Client Notifier">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="CacheClientNotifier" />
			</service>

			<service name="Disk Store">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskStore" />
			</service>

			<service name="Disk Directory">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskDirectory" />
			</service>

			<service name="Disk Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskRegion" />
			</service>

		</server>

		<server name="vFabric GemFire Cache Server" version="6.5"
			include="6.0" />
		<server name="vFabric GemFire Cache Server" version="6.6"
			include="6.0" />

		<!--********************************* ** GATEWAY HUB ********************************* -->

		<server name="vFabric GemFire Gateway Hub" version="6.0">

			<plugin type="autoinventory"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.GatewayHubDetector" />
			<plugin type="measurement"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFGatewayHubMeasurementPlugin" />

			<config>
				<option name="host"
					description="The host machine on which the cache vm is running" />
				<option name="name"
					description="A symbolic name that can be used to help identify a system" />
				<option name="workingDirectory"
					description="The directory in which the cache vm was launched." />
			</config>

			<properties>
				<property name="version" description="Version" />
				<property name="build" description="Build" />
			</properties>

			<metric name="Availability" indicator="true" defaultOn="true"
				template="GemFireCacheServer:${JMXCFG},${MEMBERCFG}:${alias}" />

			<service name="Distribution Statistics">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="DistributionStats" />
			</service>

			<service name="Gateway Hub Statistics">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="GatewayHubStatistics" />
			</service>

			<service name="Gateway Statistics">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="GatewayStatistics" />
			</service>

			<service name="Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CachePerfStats" />
			</service>

			<service name="Cache Performance">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CachePerfStats" />
			</service>

			<service name="Partitioned Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="PartitionedRegion" />
			</service>

			<service name="Cache Server">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="CacheServerStats" />
			</service>

			<service name="Distributed Lock">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="DistributedLock" />
			</service>

			<service name="Resource Manager">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="ResourceManager" />
			</service>

			<service name="VM Stats">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFVMStatsMeasurementPlugin" />
				<metrics include="VMStats" />
				<config include="gfjvm" />
			</service>

			<service name="Function">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="Function" />
			</service>

			<service name="Function Service">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="FunctionService" />
			</service>

			<service name="Cache Client Notifier">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="CacheClientNotifier" />
			</service>

			<service name="Disk Store">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskStore" />
			</service>

			<service name="Disk Directory">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskDirectory" />
			</service>

			<service name="Disk Region">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="DiskRegion" />
			</service>

			<service name="Pool Stats">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="PoolStats" />
			</service>

		</server>

		<server name="vFabric GemFire Gateway Hub" version="6.5"
			include="6.0" />
		<server name="vFabric GemFire Gateway Hub" version="6.6"
			include="6.0" />


		<!--********************************* ** APPLICATION PEER ********************************* -->

		<server name="vFabric GemFire Application Peer" version="6.0">

			<plugin type="autoinventory"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.ApplicationPeerDetector" />
			<plugin type="measurement"
				class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFApplicationPeerMeasurementPlugin" />

			<config>
				<option name="host"
					description="The host machine on which the cache vm is running" />
				<option name="name"
					description="A symbolic name that can be used to help identify a system" />
				<option name="workingDirectory"
					description="The directory in which the cache vm was launched." />
			</config>

			<properties>
				<property name="version" description="Version" />
				<property name="build" description="Build" />
			</properties>

			<metric name="Availability" indicator="true" defaultOn="true"
				template="GemFireApplicationPeer:${JMXCFG},${MEMBERCFG}:${alias}" />

			<service name="Distribution Statistics">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<config>
					<option name="statname" description="Name attribute in object name" />
				</config>
				<metrics include="DistributionStats" />
			</service>

			<service name="VM Stats">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFVMStatsMeasurementPlugin" />
				<metrics include="VMStats" />
				<config include="gfjvm" />
			</service>

			<service name="Function">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="Function" />
			</service>

			<service name="Function Service">
				<plugin type="measurement"
					class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GFStatsMeasurementPlugin" />
				<metrics include="FunctionService" />
			</service>

		</server>

		<server name="vFabric GemFire Application Peer" version="6.5"
			include="6.0"/>
		<server name="vFabric GemFire Application Peer" version="6.6"
			include="6.0"/>
	</platform>
	
    <platform name="vFabric GemFire Distributed System 7.x">
        <plugin type="autoinventory"
            class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.GF7PlatformDetector" />
        <plugin type="measurement"
            class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GF7MeasurementPlugin" />
        <plugin type="log_track"
            class="com.vmware.vfabric.hyperic.plugin.vfgf.log.GFNotificationTrack" />
        
        <config>
            <option name="locators"
                description="Up to 3 comma separated locators in the format of host:port"
                default="localhost:10334"/>
            <option name="jmx.username"
                description="JMX username"
                optional="true"
                default="system"/>
            <option name="jmx.password"
                description="JMX password"
                optional="true"
                default="manager"
               type="secret"/>
        </config>
        <property name="STAT_OBJECT_NAME" 
            value="GemFire:service=System,type=Distributed"/>
        <filter name="template" value="${STAT_OBJECT_NAME}:${alias}:locators=%locators%"/>
        <metrics>
            <metric name="Availability"
                indicator="true"/>
            <metric name='Member Count'
                indicator="true"/>
            <metric name='Disk Reads Rate'
                indicator="true"/>
            <metric name='Disk Writes Rate'
                indicator="true"/>
            <metric name='Disk Flush Avg Latency'
                indicator="true"/>
            <metric name='Num Running Functions'
                indicator="true"/>
            <metric name='Total Backup In Progress'
                indicator="true"/>
            <metric name='Total Hit Count'
                indicator="true"/>
            <metric name='Total Miss Count'
                indicator="true"/>
            <metric name='Total Region Count'
                indicator="true"/>
            <metric name='Total Region Entry Count'
                indicator="true"/>
            <metric name='Total Disk Usage'
                indicator="true"/>
            <metric name='Average Reads'
                indicator="true"/>
            <metric name='Average Writes'
                indicator="true"/>
            <metric name='Garbage Collection Count'
                indicator="true"/>
            <metric name='Total Bytes On Disk'
                indicator="true"/>
            <metric name='JVM Pauses'
                indicator="true"/>
            <metric name='Query Request Rate'
                indicator="true"/>
            <metric name='Active C Q Count'
                indicator="true"/>
            <metric name='Registered C Q Count'
                indicator="true"/>
            <metric name='Num Subscriptions'
                indicator="true"/>
            <metric name='Total Heap Size'
                indicator="true"/>
            <metric name='Locator Count'
                indicator="true"/>
            <metric name='Num Clients'
                indicator="true"/>
            <metric name='System Disk Store Count'
                indicator="true"/>
            <metric name='Num Initial Images In Progress'
                indicator="true"/>
            <metric name='Used Heap Size'
                indicator="true"/>
        </metrics>
        
        <server name="vFabric GemFire Cache Server" version="7.0">
            <property name="OBJECT_NAME"
                value="GemFire:service=CacheServer,port=*,type=Member,member=*"/>
            
            <plugin type="autoinventory"
                class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.GF7ServerDetector"/>

            <plugin type="control"
                class="org.hyperic.hq.product.jmx.MxControlPlugin"/>

            <plugin type="measurement"
                class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GF7MeasurementPlugin"/>

            <plugin type="log_track"
                class="org.hyperic.hq.product.Log4JLogTrackPlugin"/>

            <plugin type="config_track"
                class="org.hyperic.hq.product.ConfigFileTrackPlugin"/>

            <config>
                <option name="port"
                    description="Listening Port"
                    optional="false"
                    default="10334"/>

                <option name="member"
                    description="Member Name"
                    default="server1"
                    optional="false"/>
            </config>
            <property name="STAT_OBJECT_NAME"
                value="GemFire:type=Member,member=*"/>    
            <filter name="template" value="${STAT_OBJECT_NAME}:${alias}:locators=%locators%"/>
                  
            <metrics>
                <metric name='Availability'
                    indicator="true"/>
                <metric name='Load Average'
                    indicator="true"/>
                <metric name='Lock Timeout'/>
                <metric name='Lock Lease'/>
                <metric name='Bytes Received Rate'
                    indicator="true"/>
                <metric name='Bytes Sent Rate'
                    indicator="true"/>
                <metric name='Cache Listener Calls Avg Latency'
                    indicator="true"/>
                <metric name='Cache Writer Calls Avg Latency'
                    indicator="true"/>
                <metric name='Cpu Usage'
                    indicator="true"/>
                <metric name='Creates Rate'
                    indicator="true"/>
                <metric name='Current Heap Size'
                    indicator="true"/>
                <metric name='Disk Reads Rate'
                    indicator="true"/>
                <metric name='Disk Writes Rate'
                    indicator="true"/>
                <metric name='File Descriptor Limit'/>
                <metric name='Disk Flush Avg Latency'/>
                <metric name='Free Heap Size'/>
                <metric name='Function Execution Rate'/>
                <metric name='Gets Rate'
                    indicator="true"/>
                <metric name='Initial Image Keys Received'/>
                <metric name='Initial Image Time'/>
                <metric name='Initial Images In Progres'/>
                <metric name='Lock Waits In Progress'/>
                <metric name='Lru Destroy Rate'/>
                <metric name='Lru Eviction Rate'/>
                <metric name='Maximum Heap Size'/>
                <metric name='Num Running Functions'/>
                <metric name='Num Running Functions Having Results'/>
                <metric name='Put All Avg Latency'
                    indicator="true"/>
                <metric name='Put All Rate'
                    indicator="true"/>
                <metric name='Puts Avg Latency'
                    indicator="true"/>
                <metric name='Puts Rate'
                    indicator="true"/>
                <metric name='Lock Request Queues'/>
                <metric name='Total Backup In Progress'/>
                <metric name='Total Bucket Count'/>
                <metric name='Total File Descriptor Open'/>
                <metric name='Total Hit Count'/>
                <metric name='Total Loads Completed'/>
                <metric name='Total Lock Wait Time'/>
                <metric name='Total Miss Count'/>
                <metric name='Total Number Of Lock Service'/>
                <metric name='Total Primary Bucket Count'/>
                <metric name='Total Region Count'/>
                <metric name='Total Region Entry Count'/>
                <metric name='Total Transactions Count'/>
                <metric name='Transaction Commits Avg Latency'
                    indicator="true"/>
                <metric name='Transaction Commits Rate'
                    indicator="true"/>
                <metric name='Transaction Committed Total Count'
                    indicator="true"/>
                <metric name='Transaction Rolled Back Total Count'
                    indicator="true"/>
                <metric name='Member Up Time'
                    indicator="true"/>
                <metric name='Current Time'/>
                <metric name='Gets Avg Latency'
                    indicator="true"/>
                <metric name='Loads Average Latency'
                    indicator="true"/>
                <metric name='Net Loads Average Latency'
                    indicator="true"/>
                <metric name='Net Search Average Latency'
                    indicator="true"/>
                <metric name='Total Disk Tasks Waiting'/>
                <metric name='Total Net Loads Completed'/>
                <metric name='Total Net Search Completed'/>
                <metric name='Total Number Of Grantors'/>
                <metric name='Total Backup Completed'/>
                <metric name='Destroys Rate'
                    indicator="true"/>
                <metric name='Deserialization Avg Latency'/>
                <metric name='Deserialization Latency'/>
                <metric name='Deserialization Rate'/>
                <metric name='Partition Region Count'/>
                <metric name='Serialization Avg Latency'/>
                <metric name='Serialization Latency'/>
                <metric name='Serialization Rate'/>
                <metric name='PDX Deserialization Avg Latency'/>
                <metric name='PDX Deserialization Rate'/>
                <metric name='Total Disk Usage'
                    indicator="true"/>
                <metric name='Average Reads'
                    indicator="true"/>
                <metric name='Average Writes'
                    indicator="true"/>
                <metric name='Garbage Collection Time'/>
                <metric name='Garbage Collection Count'/>
                <metric name='Num Threads'/>
                <metric name='Total Bytes On Disk'/>
                <metric name='JVM Pauses'/>
            </metrics>

            <service name="Cache Server Region">
                <config>
                    <option name="member"
                        description="Member Name"
                        default=""
                        optional="false"/>
                    <option name="name"
                        description="Region Name"
                        default=""
                        optional="false"/>
                </config>
                <property name="OBJECT_NAME"
                    value="GemFire:service=Region,name=*,type=Member,member=*"/>
                <plugin type="autoinventory"/>
                                    
                <properties>
                    <property name="FullPath"
                        description="Full Path of Region"/>
                </properties>
                
                <filter name="template" value="${OBJECT_NAME}:${alias}:locators=%locators%"/>
                <metrics>
                    <metric name='Availability'
                        indicator="true"/>
                    <metric name='Last Modified Time'
                        indicator="true"/>
                    <metric name='Last Accessed Time'
                        indicator="true"/>
                    <metric name='Hit Ratio'
                        indicator="true"/>
                    <metric name='Hit Count'
                        indicator="true"/>
                    <metric name='Miss Count'
                        indicator="true"/>
                    <metric name='Entry Size'
                        indicator="true"/>
                    <metric name='Cache Listener Calls Avg Latency'/>
                    <metric name='Cache Writer Calls Avg Latency'/>
                    <metric name='Creates Rate'/>
                    <metric name='Disk Reads Rate'
                        indicator="true"/>
                    <metric name='Disk Writes Rate'
                        indicator="true"/>
                    <metric name='Gets Rate'
                        indicator="true"/>
                    <metric name='Lru Destroy Rate'/>
                    <metric name='Lru Eviction Rate'/>
                    <metric name='Put All Rate'
                        indicator="true"/>
                    <metric name='Puts Rate'
                        indicator="true"/>
                    <metric name='Average Reads'/>
                    <metric name='Average Writes'/>
                    <metric name='Total Bytes On Disk'/>
                    <metric name='Entry Count'/>
                    <metric name='Destroy Rate'/>
                    <metric name='Put Local Rate'
                        indicator="true"/>
                    <metric name='Put Remote Rate'
                        indicator="true"/>
                    <metric name='Put Remote Latency'
                        indicator="true"/>
                    <metric name='Put Remote Avg Latency'
                        indicator="true"/>
                    <metric name='Total Entries Only On Disk'
                        indicator="true"/>
                    <metric name='Total Disk Entries In VM'
                        indicator="true"/>
                    <metric name='Disk Reads Average Latency'
                        indicator="true"/>
                    <metric name='Disk Writes Average Latency'
                        indicator="true"/>
                    <metric name='Total Disk Writes Progress'/>
                    <metric name='Disk Task Waiting'/>
                    <metric name='Bucket Count'
                        indicator="true"/>
                    <metric name='Primary Bucket Count'/>
                    <metric name='Num Buckets Without Redundancy'/>
                    <metric name='Configured Redundancy'/>
                    <metric name='Actual Redundancy'/>
                    <metric name='Min Bucket Size'/>
                    <metric name='Max Bucket Size'/>
                    <metric name='Total Bucket Size'/>
                    <metric name='Avg Bucket Size'/>
                    <metric name='Disk Usage'
                        indicator="true"/>
                </metrics>
 
            </service>
            <service name="Gateway Sender">
                <config>
                    <option name="member"
                        description="Member Name"
                        default=""
                        optional="false"/>
                    <option name="gatewaySender"
                        description="Gateway Sender"
                        default=""
                        optional="false"/>
                </config>
                <property name="OBJECT_NAME"
                    value="GemFire:service=GatewaySender,gatewaySender=*,type=Member,member=*"/>
                <plugin type="autoinventory"/>
                                    
                <filter name="template" value="${OBJECT_NAME}:${alias}:locators=%locators%"/>
                <metrics>
                    <metric name='Availability'
                        indicator="true"/>
                    <metric name='Socket Buffer Size'
                        indicator="true"/>
                    <metric name='Remote DS Id'
                        indicator="true"/>
                    <metric name='Socket Read Timeout'
                        indicator="true"/>
                    <metric name='Events Received Rate'
                        indicator="true"/>
                    <metric name='Maximum Queue Memory'
                        indicator="true"/>
                    <metric name='Batch Size'
                        indicator="true"/>
                    <metric name='Batch Time Interval'
                        indicator="true"/>
                    <metric name='Alert Threshold'
                        indicator="true"/>
                    <metric name='Events Queued Rate'
                        indicator="true"/>
                    <metric name='Event Queue Size'
                        indicator="true"/>
                    <metric name='Total Events Conflated'
                        indicator="true"/>
                    <metric name='Batches Dispatched Rate'
                        indicator="true"/>
                    <metric name='Average Distribution Time Per Batch'
                        indicator="true"/>
                    <metric name='Total Batches Redistributed'
                        indicator="true"/>
                    <metric name='Dispatcher Threads'
                        indicator="true"/>
                </metrics>
            </service>
            <service name="Gateway Receiver">
                <config>
                    <option name="member"
                        description="Member Name"
                        default=""
                        optional="false"/>
                </config>
                <property name="OBJECT_NAME"
                    value="GemFire:service=GatewayReceiver,type=Member,member=*"/>
                <plugin type="autoinventory"/>
                                    
                <filter name="template" value="${OBJECT_NAME}:${alias}:locators=%locators%"/>
                <metrics>
                    <metric name='Availability'
                        indicator="true"/>
                    <metric name='Socket Buffer Size'
                        indicator="true"/>
                    <metric name='Maximum Time Between Pings'
                        indicator="true"/>
                    <metric name='Queue Load'
                        indicator="true"/>
                    <metric name='Load Per Queue'
                        indicator="true"/>
                    <metric name='Connection Load'
                        indicator="true"/>
                    <metric name='Load Per Connection'
                        indicator="true"/>
                    <metric name='Duplicate Batches Received'
                        indicator="true"/>
                    <metric name='Outoforder Batches Received'
                        indicator="true"/>
                    <metric name='Start Port'
                        indicator="true"/>
                    <metric name='End Port'
                        indicator="true"/>
                    <metric name='Events Received Rate'
                        indicator="true"/>
                    <metric name='Create Requests Rate'
                        indicator="true"/>
                    <metric name='Update Requests Rate'
                        indicator="true"/>
                    <metric name='Destroy Requests Rate'
                        indicator="true"/>
                    <metric name='Client Connection Count'
                        indicator="true"/>
                    <metric name='Num Gateways'
                        indicator="true"/>
                    <metric name='Get Request Avg Latency'
                        indicator="true"/>
                    <metric name='Put Request Avg Latency'
                        indicator="true"/>
                    <metric name='Total Connections Timed Out'
                        indicator="true"/>
                    <metric name='Total Failed Connection Attempts'
                        indicator="true"/>
                    <metric name='Thread Queue Size'
                        indicator="true"/>
                    <metric name='Connection Threads'
                        indicator="true"/>
                    <metric name='Get Request Rate'
                        indicator="true"/>
                    <metric name='Put Request Rate'
                        indicator="true"/>
                    <metric name='Total Sent Bytes'
                        indicator="true"/>
                    <metric name='Total Received Bytes'
                        indicator="true"/>
                    <metric name='Average Batch Processing Time'
                        indicator="true"/>
                </metrics>
            </service>
        </server>
        <server name="vFabric GemFire Locator" version="7.0">
            <property name="OBJECT_NAME"
                value="GemFire:service=Locator,type=Member,member=*"/>

            <plugin type="autoinventory"
                class="com.vmware.vfabric.hyperic.plugin.vfgf.detector.GF7ServerDetector"/>

            <plugin type="control"
                class="org.hyperic.hq.product.jmx.MxControlPlugin"/>

            <plugin type="measurement"
                class="com.vmware.vfabric.hyperic.plugin.vfgf.metric.GF7MeasurementPlugin"/>

            <plugin type="log_track"
                class="org.hyperic.hq.product.Log4JLogTrackPlugin"/>

            <plugin type="config_track"
                class="org.hyperic.hq.product.ConfigFileTrackPlugin"/>

            <config>                 
                <option name="member"
                    description="Member Name"
                    default="server1"
                    optional="false"/>
            </config>
            
            <property name="STAT_OBJECT_NAME"
                value="GemFire:type=Member,member=*"/>
                
            <filter name="template" value="${STAT_OBJECT_NAME}:${alias}:locators=%locators%"/>
            <metrics>
                <metric name="Availability"
                    indicator="true"/>
                <metric name='Load Average'
                    indicator="true"/>
                <metric name='Process Id'/>
                <metric name='Lock Timeout'/>
                <metric name='Lock Lease'/>
                <metric name='Bytes Received Rate'/>
                <metric name='Bytes Sent Rate'/>
                <metric name='Cache Listener Calls Avg Latency'/>
                <metric name='Cache Writer Calls Avg Latency'/>
                <metric name='Cpu Usage'
                    indicator="true"/>
                <metric name='Creates Rate'
                    indicator="true"/>
                <metric name='Current Heap Size'/>
                <metric name='Disk Reads Rate'
                    indicator="true"/>
                <metric name='Disk Writes Rate'
                    indicator="true"/>
                <metric name='File Descriptor Limit'
                    defaultOn="true"/>
                <metric name='Disk Flush Avg Latency'
                    indicator="true"/>
                <metric name='Free Heap Size'/>
                <metric name='Function Execution Rate'/>
                <metric name='Gets Rate'
                    indicator="true"/>
                <metric name='Initial Image Keys Received'/>
                <metric name='Initial Image Time'/>
                <metric name='Initial Images In Progres'/>
                <metric name='Lock Waits In Progress'/>
                <metric name='Lru Destroy Rate'/>
                <metric name='Lru Eviction Rate'/>
                <metric name='Maximum Heap Size'/>
                <metric name='Num Running Functions'/>
                <metric name='Num Running Functions Having Results'/>
                <metric name='Put All Avg Latency'/>
                <metric name='Put All Rate'
                    indicator="true"/>
                <metric name='Puts Avg Latency'
                    indicator="true"/>
                <metric name='Puts Rate'/>
                <metric name='Lock Request Queues'/>
                <metric name='Total Backup In Progress'/>
                <metric name='Total Bucket Count'/>
                <metric name='Total File Descriptor Open'/>
                <metric name='Total Hit Count'/>
                <metric name='Total Loads Completed'/>
                <metric name='Total Lock Wait Time'/>
                <metric name='Total Miss Count'/>
                <metric name='Total Number Of Lock Service'/>
                <metric name='Total Primary Bucket Count'/>
                <metric name='Total Region Count'
                    indicator="true"/>
                <metric name='Total Region Entry Count'
                    indicator="true"/>
                <metric name='Total Transactions Count'/>
                <metric name='Transaction Commits Avg Latency'
                    indicator="true"/>
                <metric name='Transaction Commits Rate'
                    indicator="true"/>
                <metric name='Transaction Committed Total Count'/>
                <metric name='Transaction Rolled Back Total Count'/>
                <metric name='Member Up Time'
                    indicator="true"/>
                <metric name='Current Time'/>
                <metric name='Gets Avg Latency'/>
                <metric name='Loads Average Latency'/>
                <metric name='Net Loads Average Latency'/>
                <metric name='Net Search Average Latency'/>
                <metric name='Total Disk Tasks Waiting'/>
                <metric name='Total Net Loads Completed'/>
                <metric name='Total Net Search Completed'/>
                <metric name='Total Number Of Grantors'/>
                <metric name='Total Backup Completed'/>
                <metric name='Destroys Rate'/>
                <metric name='Deserialization Avg Latency'/>
                <metric name='Deserialization Latency'/>
                <metric name='Deserialization Rate'/>
                <metric name='Partition Region Count'/>
                <metric name='Serialization Avg Latency'/>
                <metric name='Serialization Latency'/>
                <metric name='Serialization Rate'/>
                <metric name='PDX Deserialization Avg Latency'/>
                <metric name='PDX Deserialization Rate'/>
                <metric name='Total Disk Usage'/>
                <metric name='Average Reads'/>
                <metric name='Average Writes'/>
                <metric name='Garbage Collection Time'/>
                <metric name='Garbage Collection Count'/>
                <metric name='Num Threads'/>
                <metric name='Total Bytes On Disk'/>
                <metric name='JVM Pauses'/>
            </metrics>
        </server>
    </platform>
    <help name="vFabric GemFire Distributed System 7.x">
        <![CDATA[
    <p>
The GemFire Distributed System must be configured with locators 
with a JMX Manager.  No more than 3 locators can be specified in
the "locators" field.  The plugin automatically detects whether
SSL has been enabled in the GemFire System. 
    </p>
    ]]>
    </help>
</plugin>
